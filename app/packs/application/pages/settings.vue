<template>
  <div class="header">
    <div class="d-flex align-items-center">
      <a
        class="ivu-btn ivu-btn-primary d-flex align-items-center justify-content-center"
        :href="basePath"
        target="_self"
        style="width: 122px; height: 42px"
      ><span><div class="d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="97px" height="26px" viewBox="0 0 97 26" version="1.1">
                <g id="surface1">
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 11.730469 0.0351562 C 10.425781 0.0351562 9.222656 0.167969 8.148438 0.4375 C 7.078125 0.707031 6.125 1.113281 5.347656 1.664062 C 4.566406 2.203125 3.945312 2.914062 3.519531 3.796875 C 3.097656 4.675781 2.871094 5.730469 2.871094 6.945312 L 2.871094 7.65625 L 0 7.65625 L 0 12.296875 L 2.835938 12.335938 L 2.835938 25.417969 L 10.433594 25.417969 L 10.433594 12.34375 L 15.097656 12.34375 L 15.097656 7.699219 L 10.433594 7.699219 L 10.433594 7.125 C 10.433594 5.738281 11.316406 5.019531 13.105469 5.019531 C 13.53125 5.019531 13.886719 5.054688 14.214844 5.089844 C 14.542969 5.128906 14.835938 5.164062 15.097656 5.191406 L 15.097656 0.304688 C 14.605469 0.203125 14.085938 0.132812 13.566406 0.0976562 C 13.039062 0.0703125 12.421875 0.0351562 11.730469 0.0351562 Z M 11.730469 0.0351562 "/>
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 22.789062 21.332031 C 22.113281 20.046875 21.777344 18.550781 21.777344 16.886719 L 21.777344 16.589844 C 21.777344 14.960938 22.140625 13.449219 22.867188 12.109375 C 22.960938 11.9375 23.054688 11.757812 23.160156 11.597656 L 23.210938 0.242188 L 15.617188 0.242188 L 15.617188 25.4375 L 23.210938 25.4375 L 23.160156 21.980469 C 23.023438 21.765625 22.898438 21.546875 22.789062 21.332031 Z M 22.789062 21.332031 "/>
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 95.089844 6.980469 C 94.03125 6.980469 93.175781 7.871094 93.175781 8.96875 C 93.175781 10.066406 94.03125 10.957031 95.089844 10.957031 C 96.144531 10.957031 97 10.066406 97 8.96875 C 97 7.871094 96.144531 6.980469 95.089844 6.980469 Z M 95.089844 10.652344 C 94.195312 10.652344 93.46875 9.894531 93.46875 8.96875 C 93.46875 8.042969 94.195312 7.285156 95.089844 7.285156 C 95.980469 7.285156 96.707031 8.042969 96.707031 8.96875 C 96.707031 9.894531 95.988281 10.652344 95.089844 10.652344 Z M 95.089844 10.652344 "/>
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 95.789062 8.574219 C 95.789062 8.203125 95.554688 7.980469 95.15625 7.980469 L 94.457031 7.980469 L 94.457031 10.011719 L 94.714844 10.011719 L 94.714844 9.167969 L 95.089844 9.167969 L 95.632812 10.011719 L 95.945312 10.011719 L 95.382812 9.140625 C 95.640625 9.058594 95.789062 8.859375 95.789062 8.574219 Z M 94.726562 8.898438 L 94.726562 8.25 L 95.148438 8.25 C 95.398438 8.25 95.519531 8.355469 95.519531 8.574219 C 95.519531 8.789062 95.398438 8.898438 95.148438 8.898438 Z M 94.726562 8.898438 "/>
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 64.417969 22.539062 L 60.890625 17.914062 C 60.316406 17.15625 59.253906 16.699219 58.101562 16.699219 L 57.566406 16.699219 C 57.308594 16.699219 57.160156 16.535156 57.160156 16.339844 C 57.160156 16.140625 57.308594 15.980469 57.566406 15.980469 L 58.101562 15.980469 C 59.253906 15.980469 60.316406 15.511719 60.890625 14.765625 L 66.632812 7.25 L 57.601562 7.25 C 57.074219 7.25 56.605469 7.601562 56.433594 8.113281 L 55.1875 11.8125 C 54.851562 12.839844 54.675781 13.65625 54.675781 14.71875 C 54.675781 14.726562 54.675781 14.746094 54.675781 14.753906 C 54.675781 14.765625 54.675781 14.773438 54.675781 14.78125 C 54.675781 14.988281 54.511719 15.160156 54.304688 15.160156 C 54.105469 15.160156 53.941406 14.988281 53.941406 14.78125 C 53.941406 14.773438 53.941406 14.765625 53.941406 14.753906 C 53.941406 14.746094 53.941406 14.726562 53.941406 14.71875 L 53.941406 14.699219 C 53.941406 13.65625 53.769531 12.839844 53.441406 11.820312 L 52.210938 8.125 C 52.039062 7.601562 51.570312 7.257812 51.042969 7.257812 L 42.054688 7.257812 L 47.574219 14.738281 C 48.144531 15.511719 49.21875 15.988281 50.386719 15.988281 L 51.0625 15.988281 C 51.320312 15.988281 51.46875 16.148438 51.46875 16.347656 C 51.46875 16.546875 51.320312 16.707031 51.0625 16.707031 L 50.386719 16.707031 C 49.21875 16.707031 48.144531 17.183594 47.574219 17.957031 L 45.375 20.929688 L 43.371094 23.644531 L 42.054688 25.4375 L 51.042969 25.4375 C 51.570312 25.4375 52.039062 25.085938 52.210938 24.570312 L 53.429688 20.863281 C 53.769531 19.847656 53.933594 19.027344 53.933594 17.984375 L 53.933594 17.96875 C 53.933594 17.957031 53.933594 17.941406 53.933594 17.929688 C 53.933594 17.921875 53.933594 17.914062 53.933594 17.90625 C 53.933594 17.699219 54.097656 17.527344 54.296875 17.527344 C 54.496094 17.527344 54.667969 17.699219 54.667969 17.90625 C 54.667969 17.914062 54.667969 17.921875 54.667969 17.929688 C 54.667969 17.941406 54.667969 17.957031 54.667969 17.96875 C 54.667969 19.019531 54.839844 19.847656 55.179688 20.875 L 56.40625 24.570312 C 56.582031 25.09375 57.046875 25.4375 57.574219 25.4375 L 66.609375 25.4375 Z M 64.417969 22.539062 "/>
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 45.863281 16.410156 C 45.863281 14.816406 45.566406 13.460938 44.980469 12.308594 C 44.390625 11.15625 43.578125 10.203125 42.53125 9.464844 C 41.484375 8.71875 40.28125 8.175781 38.878906 7.800781 C 37.476562 7.429688 35.980469 7.257812 34.382812 7.257812 C 32.652344 7.257812 31.058594 7.464844 29.589844 7.90625 C 28.117188 8.347656 26.84375 8.960938 25.773438 9.769531 C 24.699219 10.578125 23.851562 11.570312 23.230469 12.722656 C 22.605469 13.875 22.285156 15.160156 22.285156 16.617188 L 22.285156 16.886719 C 22.285156 18.34375 22.582031 19.632812 23.167969 20.757812 C 23.757812 21.871094 24.605469 22.828125 25.675781 23.601562 C 26.75 24.382812 28.023438 24.960938 29.527344 25.363281 C 31.023438 25.769531 32.660156 25.976562 34.449219 25.976562 C 37.695312 25.976562 40.230469 25.488281 42.097656 24.480469 L 45.828125 19.425781 L 38.757812 19.425781 C 38.59375 19.9375 38.203125 20.371094 37.582031 20.746094 C 36.957031 21.117188 36.050781 21.289062 34.8125 21.289062 C 33.609375 21.289062 32.5625 21.054688 31.679688 20.578125 C 30.800781 20.101562 30.210938 19.289062 29.953125 18.136719 L 45.863281 18.136719 Z M 30.019531 14.511719 C 30.183594 13.972656 30.410156 13.53125 30.703125 13.152344 C 31 12.785156 31.328125 12.503906 31.714844 12.308594 C 32.113281 12.101562 32.875 11.730469 34.320312 11.730469 C 35.6875 11.730469 36.699219 11.964844 37.347656 12.476562 C 37.996094 12.992188 38.359375 13.667969 38.421875 14.511719 Z M 30.019531 14.511719 "/>
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 64.417969 0.242188 L 64.417969 6.765625 L 67.707031 6.765625 L 67.03125 7.636719 L 64.417969 11.058594 L 64.417969 21.675781 L 67.03125 25.09375 L 67.289062 25.425781 L 72.015625 25.425781 L 72.015625 0.242188 Z M 64.417969 0.242188 "/>
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 70.777344 20.34375 C 70.777344 21.324219 70.976562 22.167969 71.402344 22.890625 C 71.582031 23.195312 71.789062 23.484375 72.023438 23.746094 L 72.023438 16.933594 C 71.191406 17.789062 70.777344 18.921875 70.777344 20.34375 Z M 70.777344 20.34375 "/>
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 92.292969 10.921875 C 91.800781 10.039062 91.117188 9.328125 90.207031 8.789062 C 89.300781 8.25 88.183594 7.835938 86.914062 7.566406 C 85.640625 7.296875 84.203125 7.160156 82.613281 7.160156 C 81.046875 7.160156 79.609375 7.296875 78.3125 7.566406 C 77.007812 7.835938 75.863281 8.242188 74.921875 8.789062 C 73.976562 9.328125 73.226562 10.011719 72.671875 10.824219 C 72.628906 10.886719 72.585938 10.957031 72.542969 11.019531 L 72.542969 13.667969 L 78.832031 13.667969 C 78.925781 13.226562 79.222656 12.820312 79.714844 12.441406 C 80.207031 12.074219 81.019531 11.902344 82.128906 11.902344 C 83.433594 11.902344 84.308594 12.136719 84.742188 12.578125 C 85.164062 13.019531 85.390625 13.628906 85.390625 14.414062 L 85.390625 14.648438 L 81.21875 14.648438 C 77.664062 14.648438 75.023438 15.089844 73.328125 15.96875 C 73.042969 16.113281 72.785156 16.285156 72.550781 16.464844 L 72.550781 24.25 C 72.722656 24.390625 72.90625 24.527344 73.105469 24.652344 C 75.128906 25.929688 78.675781 25.875 78.675781 25.875 C 80.597656 25.875 82.101562 25.644531 83.175781 25.128906 C 84.246094 24.617188 85.070312 24.015625 85.625 23.304688 L 85.625 25.398438 L 93.019531 25.398438 L 93.019531 14.007812 C 93.011719 12.820312 92.777344 11.804688 92.292969 10.921875 Z M 85.3125 19.191406 C 85.3125 19.558594 85.214844 19.902344 84.984375 20.171875 C 84.757812 20.441406 84.464844 20.683594 84.101562 20.882812 C 83.746094 21.089844 83.320312 21.226562 82.828125 21.324219 C 82.335938 21.421875 81.816406 21.457031 81.261719 21.457031 L 81.195312 21.421875 C 79.238281 21.421875 78.261719 20.910156 78.261719 19.929688 C 78.261719 19.417969 78.484375 19.046875 78.945312 18.8125 C 79.402344 18.578125 80.148438 18.472656 81.226562 18.472656 L 85.304688 18.472656 L 85.304688 19.191406 Z M 85.3125 19.191406 "/>
                    <path style=" stroke:none;fill-rule:nonzero;fill:rgb(79.607844%,100%,11.764706%);fill-opacity:1;" d="M 71.6875 13.667969 L 72.015625 13.667969 L 72.015625 12.109375 C 71.851562 12.59375 71.738281 13.109375 71.6875 13.667969 Z M 71.6875 13.667969 "/>
                </g>
            </svg>
        </div></span></a>
      <span
        class="ms-2 text-white"
        style="font-size: 15px; font-weight: 500;"
      >Settings</span>
    </div>

    <a
      class="ivu-btn ivu-btn-primary ivu-btn-large ms-2"
      :href="basePath"
    >
      <span><i
        class="ion ion-md-arrow-round-back"
      /><span
        style="vertical-align: middle;"
      >Admin Panel</span></span>
    </a>
  </div>
  <div
    class="container mt-3"
    style="max-width: 800px"
  >
    <div class="ivu-tabs">
      <div class="ivu-tabs-bar">
        <div
          class="ivu-tabs-nav-container"
        >
          <div
            class="ivu-tabs-nav-wrap"
            style="position: relative;"
          >
            <div class="ivu-tabs-scroll">
              <div
                class="ivu-tabs-nav text-center w-100"
              >
                <RouterLink
                  v-for="tab in tabs"
                  :key="tab.title"
                  :class="{ 'ivu-tabs-tab-focused ivu-tabs-tab-active' : tab === currentTab }"
                  class="ivu-tabs-tab"
                  :to="tab.to"
                >
                  {{ tab.title }}
                </RouterLink>
              </div>
            </div>
          </div>
        </div>
      </div>
      <slot />
    </div>
    <div class="position-relative">
      <RouterView />
      <div
        class="text-center"
        style="bottom: 0"
      >
        <a
          href="https://github.com/motor-admin/motor-admin"
          target="_blank"
        >Motor Admin v{{ version }}</a>
      </div>
    </div>
  </div>
</template>

<script>
import { basePath, version } from 'application/scripts/configs'

export default {
  name: 'SettingsPage',
  computed: {
    basePath: () => basePath,
    version: () => version,
    currentTab () {
      return this.tabs.find((tab) => tab.to.name === this.$route.name)
    },
    tabs () {
      return [
        { title: 'General', to: { name: 'general_settings' } },
        { title: 'Users', to: { name: 'users_settings' } },
        { title: 'Roles', to: { name: 'roles_settings' } },
        { title: 'Database', to: { name: 'database_settings' } },
        { title: 'Email', to: { name: 'email_settings' } },
        { title: 'Storage', to: { name: 'storage_settings' } },
        { title: 'Other', to: { name: 'other_settings' } }
      ]
    }
  }
}
</script>

<style lang="scss">
@import 'application/styles/variables';

.header {
  background-color: $primary-color;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 12px;

  .ivu-btn {
    font-size: 15px;
    font-weight: 500;
    display: flex;
    align-items: center;

    .ion {
      vertical-align: sub;
      line-height: 1;
    }

    .ion-md-arrow-round-back {
      font-size: 20px;
    }
  }
}

.ivu-tabs-tab {
  padding: 8px 32px;
  margin: 0;

  @media screen and (max-width: $breakpoint-md) {
    padding: 8px 18px;
  }
}

a.ivu-tabs-tab {
  color: inherit;
}

.ivu-tabs-tab-active {
  border-bottom: 3px solid $primary-color;
}

.ivu-tabs-tab {
  user-select: none;
}

.ivu-tabs-scroll {
  overflow-x: auto;

  &::-webkit-scrollbar {
    display: none;
  }
}
</style>
